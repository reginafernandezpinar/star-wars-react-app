{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _toConsumableArray from \"/Users/usuario/Desktop/Regina/Projects/star-wars/star-wars-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"/Users/usuario/Desktop/Regina/Projects/star-wars/star-wars-react-app/pages/index.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { fetchCharacterList, fetchMoreCharacters } from \"../tools/api\";\nimport Layout from \"../components/layout\";\nimport CharaterList from \"../components/character/list\";\nimport styles from \"./home.module.scss\";\nexport default function Home() {\n  _s();\n\n  var _useState = useState({\n    characters: [],\n    nextPageUrl: \"\"\n  }),\n      charactersData = _useState[0],\n      setCharactersData = _useState[1];\n\n  useEffect(function () {\n    fetchCharacterList().then(function (_ref) {\n      var _ref$data = _ref.data,\n          results = _ref$data.results,\n          next = _ref$data.next;\n      return setCharactersData({\n        characters: results,\n        nextPageUrl: next\n      });\n    })[\"catch\"](function (error) {\n      console.log(\"error\", error);\n    });\n  }, []);\n  var characters = charactersData.characters,\n      nextPageUrl = charactersData.nextPageUrl;\n\n  var handleLoadMore = function handleLoadMore() {\n    fetchMoreCharacters(nextPageUrl).then(function (_ref2) {\n      var _ref2$data = _ref2.data,\n          results = _ref2$data.results,\n          next = _ref2$data.next;\n      setCharactersData({\n        characters: [].concat(_toConsumableArray(characters), _toConsumableArray(results)),\n        nextPageUrl: next\n      });\n    })[\"catch\"](function (error) {\n      console.log(\"error\", error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: styles.main,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: styles.title,\n        children: \"Star Wars Characters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.description,\n        children: \"A long time ago in a galaxy far, far away....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CharaterList, {\n        characters: characters\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), nextPageUrl && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles[\"load-more\"],\n        onClick: handleLoadMore,\n        children: \"Load more\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"erKXBDnJ93ePzx5+CRciPy5MhVQ=\");\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/usuario/Desktop/Regina/Projects/star-wars/star-wars-react-app/pages/index.js"],"names":["useState","useEffect","fetchCharacterList","fetchMoreCharacters","Layout","CharaterList","styles","Home","characters","nextPageUrl","charactersData","setCharactersData","then","data","results","next","error","console","log","handleLoadMore","main","title","description"],"mappings":";;;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,SAASC,kBAAT,EAA6BC,mBAA7B,QAAwD,cAAxD;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AAEA,OAAOC,MAAP,MAAmB,oBAAnB;AAEA,eAAe,SAASC,IAAT,GAAgB;AAAA;;AAAA,kBACeP,QAAQ,CAAC;AACnDQ,IAAAA,UAAU,EAAE,EADuC;AAEnDC,IAAAA,WAAW,EAAE;AAFsC,GAAD,CADvB;AAAA,MACtBC,cADsB;AAAA,MACNC,iBADM;;AAM7BV,EAAAA,SAAS,CAAC,YAAM;AACdC,IAAAA,kBAAkB,GACfU,IADH,CACQ;AAAA,2BAAGC,IAAH;AAAA,UAAWC,OAAX,aAAWA,OAAX;AAAA,UAAoBC,IAApB,aAAoBA,IAApB;AAAA,aACJJ,iBAAiB,CAAC;AAAEH,QAAAA,UAAU,EAAEM,OAAd;AAAuBL,QAAAA,WAAW,EAAEM;AAApC,OAAD,CADb;AAAA,KADR,WAIS,UAAAC,KAAK,EAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;AACD,KANH;AAOD,GARQ,EAQN,EARM,CAAT;AAN6B,MAgBrBR,UAhBqB,GAgBOE,cAhBP,CAgBrBF,UAhBqB;AAAA,MAgBTC,WAhBS,GAgBOC,cAhBP,CAgBTD,WAhBS;;AAkB7B,MAAMU,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3BhB,IAAAA,mBAAmB,CAACM,WAAD,CAAnB,CACGG,IADH,CACQ,iBAAiC;AAAA,6BAA9BC,IAA8B;AAAA,UAAtBC,OAAsB,cAAtBA,OAAsB;AAAA,UAAbC,IAAa,cAAbA,IAAa;AACrCJ,MAAAA,iBAAiB,CAAC;AAChBH,QAAAA,UAAU,+BAAMA,UAAN,sBAAqBM,OAArB,EADM;AAEhBL,QAAAA,WAAW,EAAEM;AAFG,OAAD,CAAjB;AAID,KANH,WAOS,UAAAC,KAAK,EAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;AACD,KATH;AAUD,GAXD;;AAaA,sBACE,QAAC,MAAD;AAAA,2BACE;AAAM,MAAA,SAAS,EAAEV,MAAM,CAACc,IAAxB;AAAA,8BACE;AAAI,QAAA,SAAS,EAAEd,MAAM,CAACe,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAGE;AAAG,QAAA,SAAS,EAAEf,MAAM,CAACgB,WAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,eAME,QAAC,YAAD;AAAc,QAAA,UAAU,EAAEd;AAA1B;AAAA;AAAA;AAAA;AAAA,cANF,EAOGC,WAAW,iBACV;AAAQ,QAAA,SAAS,EAAEH,MAAM,CAAC,WAAD,CAAzB;AAAwC,QAAA,OAAO,EAAEa,cAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAiBD;;GAhDuBZ,I;;KAAAA,I","sourcesContent":["import { useState, useEffect } from \"react\";\n\nimport { fetchCharacterList, fetchMoreCharacters } from \"../tools/api\";\nimport Layout from \"../components/layout\";\nimport CharaterList from \"../components/character/list\";\n\nimport styles from \"./home.module.scss\";\n\nexport default function Home() {\n  const [charactersData, setCharactersData] = useState({\n    characters: [],\n    nextPageUrl: \"\",\n  });\n\n  useEffect(() => {\n    fetchCharacterList()\n      .then(({ data: { results, next } }) =>\n        setCharactersData({ characters: results, nextPageUrl: next })\n      )\n      .catch(error => {\n        console.log(\"error\", error);\n      });\n  }, []);\n\n  const { characters, nextPageUrl } = charactersData;\n\n  const handleLoadMore = () => {\n    fetchMoreCharacters(nextPageUrl)\n      .then(({ data: { results, next } }) => {\n        setCharactersData({\n          characters: [...characters, ...results],\n          nextPageUrl: next,\n        });\n      })\n      .catch(error => {\n        console.log(\"error\", error);\n      });\n  };\n\n  return (\n    <Layout>\n      <main className={styles.main}>\n        <h1 className={styles.title}>Star Wars Characters</h1>\n\n        <p className={styles.description}>\n          A long time ago in a galaxy far, far away....\n        </p>\n        <CharaterList characters={characters} />\n        {nextPageUrl && (\n          <button className={styles[\"load-more\"]} onClick={handleLoadMore}>\n            Load more\n          </button>\n        )}\n      </main>\n    </Layout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}